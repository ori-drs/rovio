<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <node pkg="rovio" type="rovio_node" name="rovio" output="screen">
    <param name="filter_config" value="$(find rovio)/cfg/realsense_anymal/rovio_forward.info"/>
    <param name="camera0_config" value="$(find rovio)/cfg/realsense_anymal/anymal_cam_forward.yaml"/>
    <!--<param name="camera1_config" value="$(find vio_testing)/config/rovio_euroc/euroc_cam1.yaml"/>-->
    <remap from="cam0/image_raw" to="/realsense_d435_forward/color/image_raw"/>
    <!--<remap from="cam1/image_raw" to="/multisense/right/image_mono"/>-->
    <remap from="imu0" to="/state_estimator/imu"/>
    <param name="map_frame" value="/map"/>
    <param name="world_frame" value="/rovio/odom"/>
    <param name="camera_frame" value="/rovio/camera"/>
    <param name="imu_frame" value="/rovio/imu"/>
  </node>

  <!-- This is required because ROVIO doesn't process the initial world to IMU frame parameters in the .info file. -->
  <!-- Values from rostf when anymals state estimator is initialised. -->
  <!--SYNTAX: static_transform_publisher x y z yaw pitch roll frame_id child_frame_id  period (milliseconds)-->
  <node pkg="tf" type="static_transform_publisher" name="rovio_frame_remapper" output="screen"  args="0 0 0.658 -3.14159 0 -3.14159 /odom /rovio/odom 100" />
</launch>
